// Helios Energy Newsletter Template System
export const HELIOS_COMPANY_DATA = {
  name: 'Helios Energy GmbH',
  tagline: 'Think intelligent. Think yellow.',
  slogan: 'Nachhaltige Energiesysteme',
  address: 'Am Haag 108',
  city: '82166 Gräfelfing',
  country: 'Deutschland',
  phone: '089 123 45 67 89',
  email: 'info@helios-energygmbh.de',
  website: 'https://helios-energygmbh.de',
  ceo: 'Serkan Uray',
  hrb: 'Amtsgericht München, HRB 302886',
  logo: 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyBpZD0iRWJlbmVfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMDggMTEzIj4KICA8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjkuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogMi4xLjAgQnVpbGQgMTQyKSAgLS0+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5zdDAgewogICAgICAgIGZpbGw6ICNmN2M3MWY7CiAgICAgIH0KCiAgICAgIC5zdDEgewogICAgICAgIGZvbnQtZmFtaWx5OiBQb3BwaW5zLU1lZGl1bSwgUG9wcGluczsKICAgICAgICBmb250LXNpemU6IDE5LjRweDsKICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIGxldHRlci1zcGFjaW5nOiAuM2VtOwogICAgICB9CiAgICA8L3N0eWxlPgogIDwvZGVmcz4KICA8ZyBpZD0iRTJGS21SLnRpZiI+CiAgICA8Zz4KICAgICAgPHBhdGggZD0iTTI3LjksMjMuMXYxN2gxNC40di0xNi40YzAtLjEtLjYtLjMtLjQtLjdoMjUuNnY2LjdoLTE3LjV2MTAuM2gxNS43djcuMmgtMTUuN3YxMS4yaDE4djcuMmgtMjUuNGwtLjYtLjdjMC0uMi40LS4zLjQtLjR2LTE3LjNoLTE0LjR2MTguNGgtNy2VjIzLjFoNy42WiIvPgogICAgICA8cG9seWdvbiBwb2ludHM9IjE0NC44IDQ0LjEgMTU4LjcgNjcuNCAxNTguNyA0NC4xIDE2NS41IDQ0LjEgMTY1LjUgNzguNiAxNTcuMiA3OC42IDE0MyA1NC45IDE0MyA3OC42IDEzNi4yIDc4LjYgMTM2LjIgNDQuMSAxNDQuOCA0NC4xIi8+CiAgICAgIDxwYXRoIGQ9Ik0yMjEuNCw0NC4xYy44LDAsMi44LjYsMy42LjksOC45LDIuOSwxMCwxNS4yLDEuMSwxOC43bDYuMywxNWgtNy40bC01LjgtMTMuNGgtN3YxMy40aC03LjJ2LTM0LjVjNS4yLjQsMTEuMy0uNSwxNi40LDBaTTIxMi4yLDU5LjRoNy40Yy43LDAsMy44LTEuMyw0LjItMi4xLjctMS4yLjgtMy43LDAtNC45LTEuNy0yLjktOC44LTIuMS0xMS43LTIuNHY5LjRaIi8+CiAgICAgIDxwYXRoIGQ9Ik0yNjguNCw1NC40aC03LjZjLTEuOS03LjItMTEuOC02LjMtMTQuMS41LTMuOSwxMS40LDIuMywyMi45LDE1LDE3LjJ2LTcuNGgtNS4zcy0uNC01LjQtLjQtNS40aDEzdjE3LjVjLTEyLjMsNS4zLTI4LjksMy45LTMwLjEtMTIuMy0uNS02LC4zLTEzLjIsNS4yLTE3LjMsNy43LTYuNCwyMy45LTQuNywyNC45LDcuMloiLz4KICAgICAgPHBhdGggZD0iTTIzNS41LDEuN2MyMy4yLTEuMywyMy43LDM1LjYsMS43LDM2LjItMjEuOS42LTIzLjItMzUtMS43LTM2LjJaTTI0Mi42LDkuOGMtMi45LTIuNy04LjctMi43LTExLjgtLjItNC45LDQtNC45LDE4LDEuMywyMS4yczcuOSwxLjIsMTAuNC0xYzQuNS0zLjgsNC4zLTE2LjEsMC0yMFoiLz4KICAgICAgPHBhdGggZD0iTTExMiwyLjR2MTMuOWgxNC4ybC41LS43LS4zLTEzLjJoNy42djM0LjVoLTcuNmMtLjItLjUuNC0xLC40LTEuMXYtMTMuMmgtMTQuOHYxNC4zaC03LjJWMi40aDcuMloiLz4KICAgICAgPHBhdGggZD0iTTI4NS41LDExLjRsLTYuNS44Yy0xLTEuMy0xLjUtMi45LTMtMy43LTMuOC0yLjEtMTEuNywwLTkuMiw1LjEsMS3LDMuNiwxNS45LDEuMywxOC44LDkuNSw2LjEsMTcuMy0yNS45LDIwLjEtMjcuMSw0bDcuNi0uNGMwLDcuNSwxNS40LDYuMiwxMi40LS5zcy0xNC40LTIuNC0xOC40LTguNS0uMy0xMS45LDQuNy0xNC4xYzcuNS0zLjMsMTkuNS0xLjQsMjAuNyw4LjNaIi8+CiAgICAgIDxwYXRoIGQ9Ik0xNjYuOCwyLjR2Ni4zaC0xNi4ydjguMWgxNC44djUuOGgtMTUuM2MtLjEuMy40LjUuNC43djcuNGgxNi42djYuM2gtMjQuM1YyLjRoMjMuOFoiLz4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIxOTcuNCA0NC4xIDE5Ny40IDUwLjQgMTgxLjIgNTAuNCAxODEuMiA1OCAxOTYuNSA1OCAxOTYuNSA2My44IDE4MS4yIDYzLjggMTgxLjIgNzIuNCAxOTguMyA3Mi40IDE5Ny44IDc4LjYgMTc0IDc4LjYgMTc0IDQ0LjEgMTk3LjQgNDQuMSIvPgogICAgICA8cG9seWdvbiBwb2ludHM9IjEyOC4yIDQ0LjEgMTI4LjIgNTAuNCAxMTIgNTAuNCAxMTIgNTggMTI3LjMgNTggMTI3LjMgNjMuOCAxMTIgNjMuOCAxMTIgNzIuNCAxMjkuMSA3Mi40IDEyOC42IDc4LjYgMTA0LjggNzguNiAxMDQuOCA0NC4xIDEyOC4yIDQ0LjEiLz4KICAgICAgPHBhdGggZD0iTTI4MC4zLDQ0LjFsNS41LDEwLjIsMi41LDMuNyw3LjYtMTMuOWg3LjRsLTExLjcsMjAuNHYxNC4xaC03LjZjLjktNC4zLjUtOS4xLjItMTMuNWwtMTEuNS0yMS4xaDcuNFoiLz4KICAgICAgPHBhdGggZD0iTTE4Mi4xLDIuNGMuMi41LS40LDEtLjQsMS4xdjI3LjFoMTYuNnY2LjNoLTIzLjhWMi40aDcuNloiLz4KICAgICAgPHJlY3QgeD0iMjA1LjUiIHk9IjIuNCIgd2lkdGg9IjcuMiIgaGVpZ2h0PSIzNC41Ii8+CiAgICA8L2c+CiAgPC9nPgogIDxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik03MS42LDQuMkgxNS42QzcuOSw0LjIsMS42LDEwLjUsMS42LDE4LjJ2NTBjMCw3LjcsNi4zLDE0LDE0LDE0aDU2YzcuNywwLDE0LTYuMywxNC0xNFYxOC4yYzAtNy43LTYuMy0xNC0xNC0xNFpNNzcuNiw2OS43YzAsMi4zLTEuOCw0LjEtNC4xLDQuMUgxMy43Yy0yLjMsMC00LjEtMS44LTQuMS00LjFWMTYuNmMwLTIuMywxLjgtNC4xLDQuMS00LjFoNTkuOGMyLjMsMCw0LjEsMS44LDQuMSw0LjF2NTMuMVoiLz4KICA8dGV4dCBjbGFzcz0ic3QxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjMgMTA5LjkpIj48dHNwYW4geD0iMCIgeT0iMCI+V0VJTCBaVUtVTkZUIFrDhEhMVDwvdHNwYW4+PC90ZXh0Pgo8L3N2Zz4='
};

// Newsletter Template Interface
export interface HeliosNewsletterTemplate {
  id: string;
  name: string;
  description: string;
  
  // Editable Fields
  greeting: string;          // "Guten Tag [Name einsetzen],"
  content: string;           // Main content area
  showOfferBanner: boolean;  // Show/hide offer banner
  offerImageUrl?: string;    // Optional offer image
  offerLink?: string;        // Optional offer link
  ctaText: string;          // Call-to-action button text
  ctaLink: string;          // Call-to-action link
  
  // Metadata
  category: string;
  createdAt: Date;
  updatedAt: Date;
}

// Generate complete HTML template
export const generateHeliosNewsletterHTML = (template: HeliosNewsletterTemplate): string => {
  const offerBannerHTML = template.showOfferBanner && template.offerImageUrl ? `
    <tr>
      <td bgcolor="#F7F7F8" align="center" style="padding:12px 24px 14px;">
        <a href="${template.offerLink || '#'}" target="_blank" style="text-decoration:none;">
          <img src="${template.offerImageUrl}" width="372" alt="Aktuelles Angebot" class="mobile-offer"
            style="display:block;border:0;width:372px;height:auto;max-width:100%;border-radius:14px;box-shadow:0 6px 14px rgba(0,0,0,0.15);">
        </a>
      </td>
    </tr>
  ` : '';

  return `<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${HELIOS_COMPANY_DATA.name} Newsletter</title>
    <style>
        @media only screen and (max-width: 770px) {
            .email-container { width: 100% !important; max-width: 770px !important; }
        }
        @media only screen and (max-width: 600px) {
            .email-container { width: 100% !important; }
            .mobile-padding { padding: 15px !important; }
            .mobile-header { padding: 15px 20px !important; font-size: 18px !important; line-height: 24px !important; }
            .mobile-content { padding: 30px !important; }
            .mobile-footer { padding: 15px 20px !important; }
            .mobile-logo { width: 100px !important; height: 100px !important; }
            .mobile-offer { width: 100% !important; max-width: 300px !important; }
            .footer-contact td { display: block !important; width: 100% !important; }
        }
    </style>
</head>
<body style="margin:0;padding:0;background-color:#f5f5f5;">
    <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color:#f5f5f5;">
        <tr>
            <td align="center" style="padding:20px 0;">
                <table role="presentation" width="770" align="center" cellpadding="0" cellspacing="0" border="0"
                    class="email-container" style="width:770px;font-family:Arial,Helvetica,sans-serif;background-color:#ffffff;box-shadow:0 4px 12px rgba(0,0,0,0.1);">
                    
                    <!-- HEADER -->
                    <tr>
                        <td bgcolor="#F1C40F" class="mobile-header" style="padding:20px 24px 20px;color:#ffffff;">
                            <div style="font-size:22px;line-height:28px;font-weight:500;letter-spacing:.2px;">
                                ${HELIOS_COMPANY_DATA.tagline}
                            </div>
                        </td>
                    </tr>

                    <!-- LOGO -->
                    <tr>
                        <td bgcolor="#F7F7F8" style="padding:8px 24px 0;">
                            <table role="presentation" width="100%">
                                <tr>
                                    <td></td>
                                    <td align="right" style="padding:0;">
                                        <img src="${HELIOS_COMPANY_DATA.logo}" width="120" height="120" alt="${HELIOS_COMPANY_DATA.name}"
                                            style="display:block;border:0;object-fit:contain;" class="mobile-logo">
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <!-- CONTENT -->
                    <tr>
                        <td bgcolor="#F7F7F8" class="mobile-content" style="padding:40px;color:#1F2937;">
                            <div style="font-size:18px;line-height:24px;font-weight:700;color:#111827;margin-bottom:8px;">
                                ${template.greeting}
                            </div>
                            <div style="font-size:14px;line-height:22px;color:#4B5563;margin-bottom:20px;">
                                ${template.content}
                            </div>
                            <div style="font-size:14px;line-height:22px;color:#4B5563;margin-top:24px;">
                                Mit freundlichen Grüßen<br>
                                <strong style="color:#111827;">${HELIOS_COMPANY_DATA.ceo}</strong>
                            </div>
                        </td>
                    </tr>

                    ${offerBannerHTML}

                    <!-- CTA -->
                    <tr>
                        <td bgcolor="#F7F7F8" align="center" style="padding:6px 24px 16px;">
                            <a href="${template.ctaLink}" style="display:inline-block;background:#F39C12;padding:12px 26px;border-radius:999px;color:#ffffff;font-size:14px;font-weight:700;text-decoration:none;">
                                ${template.ctaText}
                            </a>
                        </td>
                    </tr>

                    <!-- FOOTER -->
                    <tr>
                        <td bgcolor="#ECEDEF" style="padding:15px 24px 18px;color:#6B7280;border-top:1px solid #E5E7EB;">
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                                <tr>
                                    <td style="vertical-align:top;width:60%;">
                                        <div style="font-weight:700;color:#111827;margin-bottom:2px;font-size:14px;">${HELIOS_COMPANY_DATA.ceo}</div>
                                        <div style="color:#4B5563;margin-bottom:6px;font-size:13px;">Geschäftsführer</div>
                                        <div style="font-weight:700;color:#111827;margin-bottom:2px;font-size:12px;">${HELIOS_COMPANY_DATA.name}</div>
                                        <div style="color:#4B5563;margin-bottom:8px;font-size:11px;">${HELIOS_COMPANY_DATA.slogan}</div>
                                    </td>
                                    <td align="right" style="vertical-align:top;width:40%;">
                                        <img src="${HELIOS_COMPANY_DATA.logo}" width="120" height="120" alt="${HELIOS_COMPANY_DATA.name}"
                                            style="display:block;border:0;object-fit:contain;" class="mobile-logo">
                                    </td>
                                </tr>
                            </table>
                            
                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="margin:8px 0;">
                                <tr>
                                    <td height="1" style="background:#F1C40F;font-size:0;line-height:0;">&nbsp;</td>
                                </tr>
                            </table>

                            <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0">
                                <tr>
                                    <td style="font-size:12px;line-height:16px;width:60%;vertical-align:top;">
                                        <a href="mailto:${HELIOS_COMPANY_DATA.email}" style="color:#6B7280;text-decoration:underline;">${HELIOS_COMPANY_DATA.email}</a><br>
                                        <a href="tel:+4989123456789" style="color:#6B7280;text-decoration:underline;">${HELIOS_COMPANY_DATA.phone}</a><br>
                                        <a href="${HELIOS_COMPANY_DATA.website}" style="color:#F39C12;text-decoration:underline;">${HELIOS_COMPANY_DATA.website}</a><br>
                                        <span style="font-size:10px;color:#9CA3AF;">${HELIOS_COMPANY_DATA.hrb}</span>
                                    </td>
                                    <td style="font-size:12px;line-height:16px;width:40%;vertical-align:top;text-align:right;">
                                        ${HELIOS_COMPANY_DATA.address}<br>
                                        ${HELIOS_COMPANY_DATA.city}<br>
                                        ${HELIOS_COMPANY_DATA.country}
                                    </td>
                                </tr>
                            </table>

                            <div style="margin-top:8px;font-size:11px;color:#9CA3AF;text-align:center;">
                                © ${HELIOS_COMPANY_DATA.name} 2025 – Nachhaltig in die Zukunft
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>`;
};

// Default Template Examples
export const DEFAULT_TEMPLATES: HeliosNewsletterTemplate[] = [
  {
    id: 'welcome',
    name: 'Willkommen Newsletter',
    description: 'Begrüßung für neue Kunden',
    greeting: 'Guten Tag {{firstName}},',
    content: 'willkommen bei Helios Energy! Wir freuen uns, Sie als neuen Kunden begrüßen zu dürfen. Als Ihr Partner für nachhaltige Energielösungen stehen wir Ihnen mit Rat und Tat zur Seite.',
    showOfferBanner: false,
    ctaText: 'Anrufen',
    ctaLink: 'tel:+4989123456789',
    category: 'welcome',
    createdAt: new Date(),
    updatedAt: new Date()
  },
  {
    id: 'offer',
    name: 'Sonderangebot',
    description: 'Newsletter mit Angebot',
    greeting: 'Guten Tag {{firstName}},',
    content: 'wir haben ein exklusives Angebot für Sie! Profitieren Sie jetzt von unseren aktuellen Konditionen für Solaranlagen und Energiespeicher.',
    showOfferBanner: true,
    offerImageUrl: '/assets/images/offer.png',
    offerLink: 'https://helios-energygmbh.de/angebot?src=newsletter',
    ctaText: 'Angebot ansehen',
    ctaLink: 'https://helios-energygmbh.de/angebot?src=newsletter',
    category: 'offer',
    createdAt: new Date(),
    updatedAt: new Date()
  }
];
